dnl vanessa_logger
dnl Generic logging layer
dnl Copyright (C) 2000-2002  Horms
dnl 
dnl This library is free software; you can redistribute it and/or modify it
dnl under the terms of the GNU Lesser General Public License as published by
dnl the Free Software Foundation; either version 2 of the License, or (at
dnl your option) any later version.
dnl 
dnl This library is distributed in the hope that it will be useful, but
dnl WITHOUT ANY WARRANTY; without even the implied warranty of
dnl MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU Lesser
dnl General Public License for more details.
dnl 
dnl You should have received a copy of the GNU Lesser General Public License
dnl along with this library; if not, write to the Free Software Foundation,
dnl Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307 USA


AC_INIT(libvanessa_logger/vanessa_logger.h)
AM_CONFIG_HEADER(config.h)
AM_INIT_AUTOMAKE(vanessa_logger, 0.0.4pre5)

AM_PROG_LIBTOOL
AC_PROG_CC
AC_PROG_INSTALL
AC_PROG_LN_S
AC_PROG_MAKE_SET

dnl Checks for libraries.
dnl Checks for header files.
AC_HEADER_STDC
AC_HEADER_SYS_WAIT

dnl Checks for typedefs, structures, and compiler characteristics.
AC_C_CONST
AC_TYPE_UID_T
AC_TYPE_SIZE_T

dnl Checks for library functions.
AC_TYPE_SIGNAL
AC_FUNC_WAIT3
AC_CHECK_FUNCS(flim)

AC_MSG_CHECKING("if facilitynames are available in syslog.h");
AC_TRY_COMPILE(
	[#define SYSLOG_NAMES 1
	 #include <stdlib.h>
	 #include <syslog.h>],
	[if(&facilitynames[0]); ],
	[AC_MSG_RESULT("yes"); AC_DEFINE(WITH_FACILITYNAMES) ],
	AC_MSG_RESULT("no")
)

AC_OUTPUT(
libvanessa_logger/Makefile 
sample/Makefile 
sample/vanessa_logger_sample_config.h 
Makefile
vanessa_logger.spec
debian/Makefile 
INSTALL
)
